{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/faq.js","../src/js/reviews.js"],"sourcesContent":["const refs = {\n  menu: document.querySelector('.header-menu'),\n  nav: document.querySelector('.header-menu-nav'),\n  burger: document.querySelector('.header-burger-wrap'),\n  modal: document.querySelector('.header-modal'),\n  modalNavList: document.querySelector('.header-modal-menu-list'),\n};\n\ndocument.addEventListener('click', menuControl);\n\nfunction menuControl(event) {\n  if (\n    refs.menu.contains(event.target) &&\n    !refs.nav.classList.contains('is-visible')\n  ) {\n    refs.nav.classList.add('is-visible');\n  } else {\n    refs.nav.classList.remove('is-visible');\n  }\n}\n\n// ========MOBILE MENU=========\nrefs.burger.addEventListener('click', openModalMenu);\nfunction openModalMenu() {\n  refs.modal.classList.add('modal-is-visible');\n  document.body.classList.add('no-scroll');\n}\n\nrefs.modal.addEventListener('click', closeModalMenu);\nfunction closeModalMenu(event) {\n  if (\n    event.target.closest('.header-modal-svg') ||\n    event.target.closest('.header-modal-menu-item') ||\n    event.target.closest('.header-modal-link')\n  ) {\n    refs.modal.classList.remove('modal-is-visible');\n    document.body.classList.remove('no-scroll');\n  }\n}\n\ndocument.addEventListener('keydown', event => {\n  if (\n    event.key === 'Escape' &&\n    refs.modal.classList.contains('modal-is-visible')\n  ) {\n    refs.modal.classList.remove('modal-is-visible');\n    document.body.classList.remove('no-scroll');\n  }\n});\n","import Accordion from 'accordion-js';\n\nnew Accordion('.accordion-container', {\n  showMultiple: true,\n});\n","import axios from 'axios';\nimport { Swiper } from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst API_URL = 'https://portfolio-js.b.goit.study/api/reviews';\nconst reviewsList = document.querySelector('.reviews-list');\nconst reviewsSection = document.querySelector('.reviews');\nlet hasFetchedReviews = false;\n\nasync function fetchReviews() {\n  try {\n    const response = await axios.get(API_URL);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching reviews:', error);\n    showError();\n    return [];\n  }\n}\n\nfunction renderReviews(reviews) {\n  if (!Array.isArray(reviews) || reviews.length === 0) {\n    reviewsList.innerHTML = `<p class=\"not-found\">Not found</p>`;\n    return;\n  }\n\n  reviewsList.innerHTML = reviews\n    .map(\n      review => `\n      <li class=\"swiper-slide reviews-item\">\n        <img class=\"reviews-card-img\" src=\"${review.avatar_url}\" alt=\"${review.author}\">\n        <p class=\"reviews-card-title\">${review.author}</p>\n        <p class=\"reviews-card-descr\">${review.review}</p>\n      </li>`\n    )\n    .join('');\n}\n\nfunction initSwiper() {\n  new Swiper('.swiper', {\n    slidesPerView: 1,\n    navigation: {\n      nextEl: '.next',\n      prevEl: '.prev',\n    },\n    breakpoints: {\n      768: { slidesPerView: 2, spaceBetween: 16 },\n      1440: { slidesPerView: 4, spaceBetween: 16 },\n    },\n    keyboard: { enabled: true },\n    mousewheel: { enabled: true },\n  });\n}\n\nfunction showError() {\n  reviewsList.innerHTML = `<p class=\"error-message\">Failed to load reviews. Please try again later.</p>`;\n}\n\nconst observer = new IntersectionObserver(\n  async (entries, observer) => {\n    const entry = entries[0];\n    if (entry.isIntersecting && !hasFetchedReviews) {\n      hasFetchedReviews = true;\n      observer.unobserve(reviewsSection);\n      const reviews = await fetchReviews();\n      renderReviews(reviews);\n      initSwiper();\n    }\n  },\n  { threshold: 0.05 }\n);\n\nobserver.observe(reviewsSection);\n"],"names":["refs","menuControl","event","openModalMenu","closeModalMenu","Accordion","API_URL","reviewsList","reviewsSection","hasFetchedReviews","fetchReviews","axios","error","showError","renderReviews","reviews","review","initSwiper","Swiper","observer","entries"],"mappings":"owBAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,IAAK,SAAS,cAAc,kBAAkB,EAC9C,OAAQ,SAAS,cAAc,qBAAqB,EACpD,MAAO,SAAS,cAAc,eAAe,EAC7C,aAAc,SAAS,cAAc,yBAAyB,CAChE,EAEA,SAAS,iBAAiB,QAASC,CAAW,EAE9C,SAASA,EAAYC,EAAO,CAExBF,EAAK,KAAK,SAASE,EAAM,MAAM,GAC/B,CAACF,EAAK,IAAI,UAAU,SAAS,YAAY,EAEzCA,EAAK,IAAI,UAAU,IAAI,YAAY,EAEnCA,EAAK,IAAI,UAAU,OAAO,YAAY,CAE1C,CAGAA,EAAK,OAAO,iBAAiB,QAASG,CAAa,EACnD,SAASA,GAAgB,CACvBH,EAAK,MAAM,UAAU,IAAI,kBAAkB,EAC3C,SAAS,KAAK,UAAU,IAAI,WAAW,CACzC,CAEAA,EAAK,MAAM,iBAAiB,QAASI,CAAc,EACnD,SAASA,EAAeF,EAAO,EAE3BA,EAAM,OAAO,QAAQ,mBAAmB,GACxCA,EAAM,OAAO,QAAQ,yBAAyB,GAC9CA,EAAM,OAAO,QAAQ,oBAAoB,KAEzCF,EAAK,MAAM,UAAU,OAAO,kBAAkB,EAC9C,SAAS,KAAK,UAAU,OAAO,WAAW,EAE9C,CAEA,SAAS,iBAAiB,UAAWE,GAAS,CAE1CA,EAAM,MAAQ,UACdF,EAAK,MAAM,UAAU,SAAS,kBAAkB,IAEhDA,EAAK,MAAM,UAAU,OAAO,kBAAkB,EAC9C,SAAS,KAAK,UAAU,OAAO,WAAW,EAE9C,CAAC,EC9CD,IAAIK,EAAU,uBAAwB,CACpC,aAAc,EAChB,CAAC,ECED,MAAMC,EAAU,gDACVC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAiB,SAAS,cAAc,UAAU,EACxD,IAAIC,EAAoB,GAExB,eAAeC,GAAe,CAC5B,GAAI,CAEF,OADiB,MAAMC,EAAM,IAAIL,CAAO,GACxB,IACjB,OAAQM,EAAO,CACd,eAAQ,MAAM,0BAA2BA,CAAK,EAC9CC,IACO,EACR,CACH,CAEA,SAASC,EAAcC,EAAS,CAC9B,GAAI,CAAC,MAAM,QAAQA,CAAO,GAAKA,EAAQ,SAAW,EAAG,CACnDR,EAAY,UAAY,qCACxB,MACD,CAEDA,EAAY,UAAYQ,EACrB,IACCC,GAAU;AAAA;AAAA,6CAE6BA,EAAO,UAAU,UAAUA,EAAO,MAAM;AAAA,wCAC7CA,EAAO,MAAM;AAAA,wCACbA,EAAO,MAAM;AAAA,YAEhD,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,GAAa,CACpB,IAAIC,EAAO,UAAW,CACpB,cAAe,EACf,WAAY,CACV,OAAQ,QACR,OAAQ,OACT,EACD,YAAa,CACX,IAAK,CAAE,cAAe,EAAG,aAAc,EAAI,EAC3C,KAAM,CAAE,cAAe,EAAG,aAAc,EAAI,CAC7C,EACD,SAAU,CAAE,QAAS,EAAM,EAC3B,WAAY,CAAE,QAAS,EAAM,CACjC,CAAG,CACH,CAEA,SAASL,GAAY,CACnBN,EAAY,UAAY,8EAC1B,CAEA,MAAMY,EAAW,IAAI,qBACnB,MAAOC,EAASD,IAAa,CAE3B,GADcC,EAAQ,CAAC,EACb,gBAAkB,CAACX,EAAmB,CAC9CA,EAAoB,GACpBU,EAAS,UAAUX,CAAc,EACjC,MAAMO,EAAU,MAAML,IACtBI,EAAcC,CAAO,EACrBE,GACD,CACF,EACD,CAAE,UAAW,GAAM,CACrB,EAEAE,EAAS,QAAQX,CAAc"}